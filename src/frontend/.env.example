# =============================================================================
# ENVIRONMENT CONFIGURATION TEMPLATE
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control (already in .gitignore)
#
# Quick Start:
#   cp .env.example .env.local
#   # Then edit .env.local with your actual API keys and secrets
# =============================================================================

# -----------------------------------------------------------------------------
# Solana Configuration (Required)
# -----------------------------------------------------------------------------
# Network: devnet (development) or mainnet-beta (production)
NEXT_PUBLIC_SOLANA_NETWORK=devnet

# Solana RPC Endpoint (IMPORTANT: Use Helius/QuickNode in production)
# Default clusterApiUrl has strict rate limits - not suitable for production
# Get free RPC from: https://helius.dev or https://quicknode.com
# Example: https://devnet.helius-rpc.com/?api-key=your-api-key
NEXT_PUBLIC_SOLANA_RPC_ENDPOINT=https://api.devnet.solana.com

# Your deployed NFT Coupon Program ID
# Current deployed contract ID: RECcAGSNVfAdGeTsR92jMUM2DBuedSqpAn9W8pNrLi7 (vanity address)
# Deploy contracts first: cd src/nft_coupon && anchor build && anchor deploy
NEXT_PUBLIC_NFT_PROGRAM_ID=RECcAGSNVfAdGeTsR92jMUM2DBuedSqpAn9W8pNrLi7

# -----------------------------------------------------------------------------
# Database - Supabase (Required)
# -----------------------------------------------------------------------------
# Get these from: https://supabase.com/dashboard/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# -----------------------------------------------------------------------------
# Authentication - Solana Wallet Adapter (Epic 7)
# -----------------------------------------------------------------------------
# Using external wallets: Phantom, Solflare
# No additional configuration needed - users connect with their own wallets
# Privy has been removed in favor of standard Solana wallet adapter approach
#
# Supported wallets:
#   - Phantom (https://phantom.app/)
#   - Solflare (https://solflare.com/)
#
# No environment variables required for authentication

# -----------------------------------------------------------------------------
# File Storage - Arweave (Optional - Falls back to Supabase)
# -----------------------------------------------------------------------------
# Get free testnet tokens: https://faucet.arweave.net/
# For production: Fund wallet with AR tokens (~$5-10 for 1000 uploads)
ARWEAVE_WALLET_PATH=../../arweave-wallet.json
ARWEAVE_GATEWAY=https://arweave.net
NEXT_PUBLIC_ARWEAVE_GATEWAY=https://arweave.net

# -----------------------------------------------------------------------------
# Payment - MoonPay Commerce (Optional - Epic 8)
# -----------------------------------------------------------------------------
# Sign up at: https://moonpay.hel.io/
# Dashboard: https://moonpay.hel.io/dashboard
# Features: Solana payments (SOL, USDC, BONK)
NEXT_PUBLIC_MOONPAY_PUBLIC_KEY=your_moonpay_public_key_here
MOONPAY_SECRET_KEY=your_moonpay_secret_key_here

# -----------------------------------------------------------------------------
# External APIs - Deal Aggregation (Optional - Epic 5)
# -----------------------------------------------------------------------------
# RapidAPI - Get Promo Codes API
# Sign up at: https://rapidapi.com/signup
# Subscribe to: https://rapidapi.com/189766587/api/get-promo-codes
# Free tier: BASIC plan ($0.00/mo) - 100 requests/day
RAPIDAPI_KEY=your_rapidapi_key_here

# Set to 'true' to use only mock data (useful for development/testing)
DISABLE_RAPIDAPI=false

# -----------------------------------------------------------------------------
# Error Monitoring - Sentry (Optional but Recommended)
# -----------------------------------------------------------------------------
# Sign up at: https://sentry.io/
# Create a new project and get your DSN
# Features: Error tracking, performance monitoring, release tracking
NEXT_PUBLIC_SENTRY_DSN=https://your_sentry_dsn@sentry.io/your_project_id

# Sentry auth token for source maps upload (CI/CD only)
# Generate at: https://sentry.io/settings/account/api/auth-tokens/
# SENTRY_AUTH_TOKEN=your_sentry_auth_token_here

# -----------------------------------------------------------------------------
# Security & Rate Limiting (Optional - Recommended for Production)
# -----------------------------------------------------------------------------
# CORS: Comma-separated list of allowed origins
# Development: Leave blank or set to "*"
# Production: Set to your actual domain(s)
# Example: https://yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=

# Upstash Redis (Recommended for production rate limiting)
# In-memory rate limiter won't work across Vercel serverless instances
# Sign up at: https://upstash.com/ and create a Redis database
# UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# -----------------------------------------------------------------------------
# Development Tools (Optional)
# -----------------------------------------------------------------------------
# Bundle analyzer: Set to 'true' to analyze bundle size
# Run: ANALYZE=true npm run build
ANALYZE=false

# Wallet auto-connect: Set to 'false' to disable auto-wallet connection
# Useful if users frequently have locked wallets
# NEXT_PUBLIC_WALLET_AUTO_CONNECT=true

# =============================================================================
# ENVIRONMENT-SPECIFIC NOTES
# =============================================================================
#
# Development (.env.local):
#   - Use devnet for NEXT_PUBLIC_SOLANA_NETWORK
#   - Can use default Solana RPC endpoint
#   - Set DISABLE_RAPIDAPI=true to avoid rate limits
#   - ALLOWED_ORIGINS can be blank or "*"
#
# Production (Vercel Environment Variables):
#   - Use mainnet-beta for NEXT_PUBLIC_SOLANA_NETWORK
#   - MUST use Helius/QuickNode RPC endpoint
#   - MUST set ALLOWED_ORIGINS to your domain
#   - MUST configure UPSTASH_REDIS for rate limiting
#   - MUST have NEXT_PUBLIC_SENTRY_DSN for error monitoring
#   - Verify Supabase JWT custom claims are configured
#   - Deploy contracts to mainnet first
#
# CI/CD (GitHub Actions Secrets):
#   - All NEXT_PUBLIC_* variables
#   - SUPABASE_SERVICE_ROLE_KEY
#   - SENTRY_AUTH_TOKEN (for source maps)
#
# =============================================================================
# SECURITY CHECKLIST
# =============================================================================
# [ ] .env.local is in .gitignore
# [ ] Never commit real API keys or secrets
# [ ] Rotate keys if accidentally exposed
# [ ] Use Vercel environment variables for production secrets
# [ ] Enable RLS policies in Supabase before production
# [ ] Restrict CORS origins in production
# [ ] Configure rate limiting with Upstash Redis
# [ ] Set up Sentry error alerting
# [ ] Use Helius/QuickNode RPC in production
# =============================================================================
